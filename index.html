<!DOCTYPE html>
<html>
<head>
  <title>URL Converter</title>
</head>
<body>
  <h2>URL Converter</h2>

  <label for="originalUrl">Masukkan URL Asli:</label><br>
  <input type="text" id="originalUrl" size="100" placeholder="https://ecency.com/@egoaquiles/meeting-sebastian-through-fe-de-vida-espeng"><br><br>

  <button onclick="convertURL()">Convert</button>

  <h3>Hasil URL:</h3>
  <p id="convertedUrl"></p>

  <script>
    function convertURL() {
      const input = document.getElementById('originalUrl').value.trim();
      const resultElement = document.getElementById('convertedUrl');

      try {
        const url = new URL(input);
        const pathParts = url.pathname.split('/');

        if (pathParts.length >= 3 && pathParts[1].startsWith('@')) {
          const author = pathParts[1].substring(1); // remove '@'
          const permlink = pathParts[2];

          const newUrl = `https://niddumulu.github.io/gazan/comment.html?author=${encodeURIComponent(author)}&permlink=${encodeURIComponent(permlink)}`;
          resultElement.innerHTML = `<a href="${newUrl}" target="_blank">${newUrl}</a>`;
        } else {
          resultElement.textContent = "URL tidak valid atau tidak sesuai format yang diharapkan.";
        }
      } catch (e) {
        resultElement.textContent = "URL tidak valid.";
      }
    }
  </script>
</body>
</html>
